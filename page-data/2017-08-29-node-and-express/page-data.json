{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017-08-29-node-and-express/","result":{"data":{"site":{"siteMetadata":{"title":"Natalie's Blog"}},"markdownRemark":{"id":"d738e8b5-ce72-586a-95a7-39a6064b4ad7","excerpt":"This is a continuation of my effort to document my Node learning process. I am still going through this excellent Udemy course and building upon very basic…","html":"<p>This is a continuation of my effort to document my Node learning process. I am still going through <a href=\"https://www.udemy.com/understand-nodejs/learn/v4/overview\">this</a> excellent Udemy course and building upon very basic incremental examples to understand how and why Node can do the stuff that it does. In a <a href=\"http://nataliesmith.ca/blog/node-servers\">previous blog post</a> I wrote about how to create Node servers from scratch. This time, I’ll go through a few examples that use Node with Express to set up an app.</p>\n<h3>What Is Express</h3>\n<p>Express is a framework to enhance Node and make Node easier to work with. The first example that I went through just created a very basic app using Express, which is shown below. I’ve commented nearly every single line of code in (maybe painful) detail just to really understand what’s happening at every stage. Important things to make note of:</p>\n<ul>\n<li>Express is simply a library providing functions and methods to make dealing with Node easier.</li>\n<li>Maybe the most important line is <span class=\"emphasis\">var app = express();</span> as this is where we are creating our Express app.</li>\n<li>Maybe the second most important line is <span class=\"emphasis\">app.listen(port)</span> as this is where the server is actually created.</li>\n<li>Anything that follows app.use is middleware. Middleware is something that happens between receiving a request and sending a response.</li>\n<li>Anything that follows app.get/post/otherHTTPverb is how we set up our app’s routes.</li>\n</ul>\n<p><div id=\"gist75392549\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-app-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-app-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-app-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> express <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>express<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-app-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-app-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Middleware to parse body of HTTP requests</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-app-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> bodyParser <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>body-parser<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-app-js-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-app-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Invokes function returned from require.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-app-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Creates an Express application;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-app-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> express() returns Express object</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-app-js-LC9\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> app <span class=\"pl-k\">=</span> <span class=\"pl-en\">express</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-app-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-app-js-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Sets port equal to either the environment</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-app-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> PORT variable OR 3000 as default.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-app-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Can set up environment variables on servers</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-app-js-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> when deploying for production.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-app-js-LC15\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> port <span class=\"pl-k\">=</span> <span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">env</span>.<span class=\"pl-c1\">PORT</span> <span class=\"pl-k\">||</span> <span class=\"pl-c1\">3000</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-app-js-LC16\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-app-js-LC17\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Create parser for requests with</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-app-js-LC18\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Content-Type: x-www-form-urlencoded</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-app-js-LC19\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> urlencodedParser <span class=\"pl-k\">=</span> <span class=\"pl-smi\">bodyParser</span>.<span class=\"pl-en\">urlencoded</span>({ extended<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-app-js-LC20\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-app-js-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Create parser for requests with </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-app-js-LC22\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Content-Type: application/json</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-app-js-LC23\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> jsonParser <span class=\"pl-k\">=</span> <span class=\"pl-smi\">bodyParser</span>.<span class=\"pl-en\">json</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-app-js-LC24\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-app-js-LC25\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Mounts specified middleware function(s) at specified path;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-app-js-LC26\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> app.use() takes following params:</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-app-js-LC27\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 1. path: string|RegExp | (string|RegExp)[]</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-app-js-LC28\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 2. ...handlers: RequestHandler[] (callback functions, can be series of functions</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-app-js-LC29\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> separated by commas or array of functions)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-app-js-LC30\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Middleware function is executed when the base of</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L31\" class=\"blob-num js-line-number\" data-line-number=\"31\"></td>\n        <td id=\"file-app-js-LC31\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> the requested path matches path param.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L32\" class=\"blob-num js-line-number\" data-line-number=\"32\"></td>\n        <td id=\"file-app-js-LC32\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> express.static() is built-in express middleware</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L33\" class=\"blob-num js-line-number\" data-line-number=\"33\"></td>\n        <td id=\"file-app-js-LC33\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> to serve static files.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L34\" class=\"blob-num js-line-number\" data-line-number=\"34\"></td>\n        <td id=\"file-app-js-LC34\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> express.static() takes following params:</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L35\" class=\"blob-num js-line-number\" data-line-number=\"35\"></td>\n        <td id=\"file-app-js-LC35\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 1. root: string (dir from which static assets to be served)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L36\" class=\"blob-num js-line-number\" data-line-number=\"36\"></td>\n        <td id=\"file-app-js-LC36\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 2. options?: serveStatic.ServeStaticOptions</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L37\" class=\"blob-num js-line-number\" data-line-number=\"37\"></td>\n        <td id=\"file-app-js-LC37\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Here we have a &#39;public&#39; folder in root dir with a style.css file</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L38\" class=\"blob-num js-line-number\" data-line-number=\"38\"></td>\n        <td id=\"file-app-js-LC38\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/assets<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-smi\">express</span>.<span class=\"pl-en\">static</span>(<span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/public<span class=\"pl-pds\">&#39;</span></span>));</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L39\" class=\"blob-num js-line-number\" data-line-number=\"39\"></td>\n        <td id=\"file-app-js-LC39\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L40\" class=\"blob-num js-line-number\" data-line-number=\"40\"></td>\n        <td id=\"file-app-js-LC40\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Make your own middleware.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L41\" class=\"blob-num js-line-number\" data-line-number=\"41\"></td>\n        <td id=\"file-app-js-LC41\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">next</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L42\" class=\"blob-num js-line-number\" data-line-number=\"42\"></td>\n        <td id=\"file-app-js-LC42\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Request Url: <span class=\"pl-pds\">&#39;</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">url</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L43\" class=\"blob-num js-line-number\" data-line-number=\"43\"></td>\n        <td id=\"file-app-js-LC43\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Express provides next() for middleware to the</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L44\" class=\"blob-num js-line-number\" data-line-number=\"44\"></td>\n        <td id=\"file-app-js-LC44\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> function that you give as callback when route is matched.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L45\" class=\"blob-num js-line-number\" data-line-number=\"45\"></td>\n        <td id=\"file-app-js-LC45\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> next() just means &#39;run the next middleware&#39;;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L46\" class=\"blob-num js-line-number\" data-line-number=\"46\"></td>\n        <td id=\"file-app-js-LC46\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Without next(), request will be left hanging.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L47\" class=\"blob-num js-line-number\" data-line-number=\"47\"></td>\n        <td id=\"file-app-js-LC47\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">next</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L48\" class=\"blob-num js-line-number\" data-line-number=\"48\"></td>\n        <td id=\"file-app-js-LC48\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L49\" class=\"blob-num js-line-number\" data-line-number=\"49\"></td>\n        <td id=\"file-app-js-LC49\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L50\" class=\"blob-num js-line-number\" data-line-number=\"50\"></td>\n        <td id=\"file-app-js-LC50\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Executes this function if a GET request</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L51\" class=\"blob-num js-line-number\" data-line-number=\"51\"></td>\n        <td id=\"file-app-js-LC51\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> is received to this url.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L52\" class=\"blob-num js-line-number\" data-line-number=\"52\"></td>\n        <td id=\"file-app-js-LC52\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L53\" class=\"blob-num js-line-number\" data-line-number=\"53\"></td>\n        <td id=\"file-app-js-LC53\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Indicate body to be included in response.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L54\" class=\"blob-num js-line-number\" data-line-number=\"54\"></td>\n        <td id=\"file-app-js-LC54\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Don&#39;t need to indicate Content-type header.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L55\" class=\"blob-num js-line-number\" data-line-number=\"55\"></td>\n        <td id=\"file-app-js-LC55\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> When browser sees href=assets/style.css it will </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L56\" class=\"blob-num js-line-number\" data-line-number=\"56\"></td>\n        <td id=\"file-app-js-LC56\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> generate an HTTP req for site/assets/style.css,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L57\" class=\"blob-num js-line-number\" data-line-number=\"57\"></td>\n        <td id=\"file-app-js-LC57\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> and this will be handled by Node. </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L58\" class=\"blob-num js-line-number\" data-line-number=\"58\"></td>\n        <td id=\"file-app-js-LC58\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> When it sees /assets it will handle request in </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L59\" class=\"blob-num js-line-number\" data-line-number=\"59\"></td>\n        <td id=\"file-app-js-LC59\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> app.use(&#39;/assets&#39; ...).</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L60\" class=\"blob-num js-line-number\" data-line-number=\"60\"></td>\n        <td id=\"file-app-js-LC60\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;link href=assets/style.css type=text/css rel=stylesheet /&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L61\" class=\"blob-num js-line-number\" data-line-number=\"61\"></td>\n        <td id=\"file-app-js-LC61\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L62\" class=\"blob-num js-line-number\" data-line-number=\"62\"></td>\n        <td id=\"file-app-js-LC62\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L63\" class=\"blob-num js-line-number\" data-line-number=\"63\"></td>\n        <td id=\"file-app-js-LC63\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Use res.sendFile to serve an html file</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L64\" class=\"blob-num js-line-number\" data-line-number=\"64\"></td>\n        <td id=\"file-app-js-LC64\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L65\" class=\"blob-num js-line-number\" data-line-number=\"65\"></td>\n        <td id=\"file-app-js-LC65\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-en\">sendFile</span>(<span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form.htm<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L66\" class=\"blob-num js-line-number\" data-line-number=\"66\"></td>\n        <td id=\"file-app-js-LC66\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L67\" class=\"blob-num js-line-number\" data-line-number=\"67\"></td>\n        <td id=\"file-app-js-LC67\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L68\" class=\"blob-num js-line-number\" data-line-number=\"68\"></td>\n        <td id=\"file-app-js-LC68\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> :id indicates that id is a variable name.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L69\" class=\"blob-num js-line-number\" data-line-number=\"69\"></td>\n        <td id=\"file-app-js-LC69\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Access id using req.params.id.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L70\" class=\"blob-num js-line-number\" data-line-number=\"70\"></td>\n        <td id=\"file-app-js-LC70\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also access request query string using req.query.param,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L71\" class=\"blob-num js-line-number\" data-line-number=\"71\"></td>\n        <td id=\"file-app-js-LC71\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> where param is name from a query string name value pair</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L72\" class=\"blob-num js-line-number\" data-line-number=\"72\"></td>\n        <td id=\"file-app-js-LC72\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> (ie url?param=4&amp;name=value). </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L73\" class=\"blob-num js-line-number\" data-line-number=\"73\"></td>\n        <td id=\"file-app-js-LC73\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Now we can access urls such as:</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L74\" class=\"blob-num js-line-number\" data-line-number=\"74\"></td>\n        <td id=\"file-app-js-LC74\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> /person/3</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L75\" class=\"blob-num js-line-number\" data-line-number=\"75\"></td>\n        <td id=\"file-app-js-LC75\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> /person/Jerry</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L76\" class=\"blob-num js-line-number\" data-line-number=\"76\"></td>\n        <td id=\"file-app-js-LC76\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person/:id<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L77\" class=\"blob-num js-line-number\" data-line-number=\"77\"></td>\n        <td id=\"file-app-js-LC77\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts for Person <span class=\"pl-pds\">&#39;</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">params</span>.<span class=\"pl-c1\">id</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L78\" class=\"blob-num js-line-number\" data-line-number=\"78\"></td>\n        <td id=\"file-app-js-LC78\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L79\" class=\"blob-num js-line-number\" data-line-number=\"79\"></td>\n        <td id=\"file-app-js-LC79\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L80\" class=\"blob-num js-line-number\" data-line-number=\"80\"></td>\n        <td id=\"file-app-js-LC80\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Pass urlencodedParser (middleware we created earlier)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L81\" class=\"blob-num js-line-number\" data-line-number=\"81\"></td>\n        <td id=\"file-app-js-LC81\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> to post statement as a callback.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L82\" class=\"blob-num js-line-number\" data-line-number=\"82\"></td>\n        <td id=\"file-app-js-LC82\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> urlencodedParser is middleware that will be called </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L83\" class=\"blob-num js-line-number\" data-line-number=\"83\"></td>\n        <td id=\"file-app-js-LC83\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> before function(req, res) is called.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L84\" class=\"blob-num js-line-number\" data-line-number=\"84\"></td>\n        <td id=\"file-app-js-LC84\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> urlencodedParser gives us access to req.body.param,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L85\" class=\"blob-num js-line-number\" data-line-number=\"85\"></td>\n        <td id=\"file-app-js-LC85\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> where param is name of name value pair in body of request.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L86\" class=\"blob-num js-line-number\" data-line-number=\"86\"></td>\n        <td id=\"file-app-js-LC86\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> So if &#39;/person&#39; is seen in the url, and it&#39;s of method post,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L87\" class=\"blob-num js-line-number\" data-line-number=\"87\"></td>\n        <td id=\"file-app-js-LC87\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> then this middleware and callback will be run.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L88\" class=\"blob-num js-line-number\" data-line-number=\"88\"></td>\n        <td id=\"file-app-js-LC88\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person<span class=\"pl-pds\">&#39;</span></span>, urlencodedParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L89\" class=\"blob-num js-line-number\" data-line-number=\"89\"></td>\n        <td id=\"file-app-js-LC89\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thank you!<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L90\" class=\"blob-num js-line-number\" data-line-number=\"90\"></td>\n        <td id=\"file-app-js-LC90\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L91\" class=\"blob-num js-line-number\" data-line-number=\"91\"></td>\n        <td id=\"file-app-js-LC91\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L92\" class=\"blob-num js-line-number\" data-line-number=\"92\"></td>\n        <td id=\"file-app-js-LC92\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L93\" class=\"blob-num js-line-number\" data-line-number=\"93\"></td>\n        <td id=\"file-app-js-LC93\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L94\" class=\"blob-num js-line-number\" data-line-number=\"94\"></td>\n        <td id=\"file-app-js-LC94\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Pass jsonParser (middleware we created earlier)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L95\" class=\"blob-num js-line-number\" data-line-number=\"95\"></td>\n        <td id=\"file-app-js-LC95\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> to post statement as a callback.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L96\" class=\"blob-num js-line-number\" data-line-number=\"96\"></td>\n        <td id=\"file-app-js-LC96\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> jsonParser gives us access to req.body.param,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L97\" class=\"blob-num js-line-number\" data-line-number=\"97\"></td>\n        <td id=\"file-app-js-LC97\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> where param is name in json object in body of request.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L98\" class=\"blob-num js-line-number\" data-line-number=\"98\"></td>\n        <td id=\"file-app-js-LC98\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/personjson<span class=\"pl-pds\">&#39;</span></span>, jsonParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L99\" class=\"blob-num js-line-number\" data-line-number=\"99\"></td>\n        <td id=\"file-app-js-LC99\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thankyou for the json data<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L100\" class=\"blob-num js-line-number\" data-line-number=\"100\"></td>\n        <td id=\"file-app-js-LC100\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L101\" class=\"blob-num js-line-number\" data-line-number=\"101\"></td>\n        <td id=\"file-app-js-LC101\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L102\" class=\"blob-num js-line-number\" data-line-number=\"102\"></td>\n        <td id=\"file-app-js-LC102\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L103\" class=\"blob-num js-line-number\" data-line-number=\"103\"></td>\n        <td id=\"file-app-js-LC103\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L104\" class=\"blob-num js-line-number\" data-line-number=\"104\"></td>\n        <td id=\"file-app-js-LC104\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Send json data in response to GET from /api url</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L105\" class=\"blob-num js-line-number\" data-line-number=\"105\"></td>\n        <td id=\"file-app-js-LC105\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/api<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L106\" class=\"blob-num js-line-number\" data-line-number=\"106\"></td>\n        <td id=\"file-app-js-LC106\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-en\">json</span>({ firstname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Jelly<span class=\"pl-pds\">&#39;</span></span>, lastname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Donut<span class=\"pl-pds\">&#39;</span></span> });</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L107\" class=\"blob-num js-line-number\" data-line-number=\"107\"></td>\n        <td id=\"file-app-js-LC107\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L108\" class=\"blob-num js-line-number\" data-line-number=\"108\"></td>\n        <td id=\"file-app-js-LC108\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L109\" class=\"blob-num js-line-number\" data-line-number=\"109\"></td>\n        <td id=\"file-app-js-LC109\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> listen() calls http.createServer under the hood.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L110\" class=\"blob-num js-line-number\" data-line-number=\"110\"></td>\n        <td id=\"file-app-js-LC110\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> listen() takes the following params:</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L111\" class=\"blob-num js-line-number\" data-line-number=\"111\"></td>\n        <td id=\"file-app-js-LC111\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 1. port: number</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L112\" class=\"blob-num js-line-number\" data-line-number=\"112\"></td>\n        <td id=\"file-app-js-LC112\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 2. hostname: string</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L113\" class=\"blob-num js-line-number\" data-line-number=\"113\"></td>\n        <td id=\"file-app-js-LC113\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 3. backlog: number</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L114\" class=\"blob-num js-line-number\" data-line-number=\"114\"></td>\n        <td id=\"file-app-js-LC114\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> 4. callback?: Function</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L115\" class=\"blob-num js-line-number\" data-line-number=\"115\"></td>\n        <td id=\"file-app-js-LC115\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> returns a http.Server object.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L116\" class=\"blob-num js-line-number\" data-line-number=\"116\"></td>\n        <td id=\"file-app-js-LC116\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Here we specify port 3000. </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L117\" class=\"blob-num js-line-number\" data-line-number=\"117\"></td>\n        <td id=\"file-app-js-LC117\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">listen</span>(port);</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/e0407b95e5cb86204d31759b633ec5d2/raw/666534aad985828a7137905d58dbad18f0b69c47/app.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/e0407b95e5cb86204d31759b633ec5d2#file-app-js\">app.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><div id=\"gist75392633\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-form-htm\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-html \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-form-htm-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-form-htm-LC1\" class=\"blob-code blob-code-inner js-file-line\">&lt;<span class=\"pl-ent\">html</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-form-htm-LC2\" class=\"blob-code blob-code-inner js-file-line\">    &lt;<span class=\"pl-ent\">head</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-form-htm-LC3\" class=\"blob-code blob-code-inner js-file-line\">        &lt;<span class=\"pl-ent\">link</span> <span class=\"pl-e\">href</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>assets/style.css<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>text/css<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">rel</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>stylesheet<span class=\"pl-pds\">&quot;</span></span>/&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-form-htm-LC4\" class=\"blob-code blob-code-inner js-file-line\">        &lt;<span class=\"pl-ent\">script</span> <span class=\"pl-e\">src</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js<span class=\"pl-pds\">&quot;</span></span> &gt;&lt;/<span class=\"pl-ent\">script</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-form-htm-LC5\" class=\"blob-code blob-code-inner js-file-line\">    &lt;/<span class=\"pl-ent\">head</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-form-htm-LC6\" class=\"blob-code blob-code-inner js-file-line\">    &lt;<span class=\"pl-ent\">body</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-form-htm-LC7\" class=\"blob-code blob-code-inner js-file-line\">        &lt;<span class=\"pl-ent\">h1</span>&gt;Jelly Filled Donut&lt;/<span class=\"pl-ent\">h1</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-form-htm-LC8\" class=\"blob-code blob-code-inner js-file-line\">        &lt;<span class=\"pl-ent\">form</span> <span class=\"pl-e\">method</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>POST<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">action</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>/person<span class=\"pl-pds\">&quot;</span></span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-form-htm-LC9\" class=\"blob-code blob-code-inner js-file-line\">            First name: &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>text<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">id</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>firstname<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>firstname<span class=\"pl-pds\">&quot;</span></span> /&gt; &lt;<span class=\"pl-ent\">br</span> /&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-form-htm-LC10\" class=\"blob-code blob-code-inner js-file-line\">            Last name: &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>text<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">id</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>lastname<span class=\"pl-pds\">&quot;</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-form-htm-LC11\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>lastname<span class=\"pl-pds\">&quot;</span></span> /&gt; &lt;<span class=\"pl-ent\">br</span> /&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-form-htm-LC12\" class=\"blob-code blob-code-inner js-file-line\">            &lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>submit<span class=\"pl-pds\">&quot;</span></span> <span class=\"pl-e\">value</span>=<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Submit<span class=\"pl-pds\">&quot;</span></span> /&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-form-htm-LC13\" class=\"blob-code blob-code-inner js-file-line\">        &lt;/<span class=\"pl-ent\">form</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-form-htm-LC14\" class=\"blob-code blob-code-inner js-file-line\">        &lt;<span class=\"pl-ent\">script</span>&gt;<span class=\"pl-s1\"></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-form-htm-LC15\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">            <span class=\"pl-smi\">$</span>.<span class=\"pl-en\">ajax</span>({</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-form-htm-LC16\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">                type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>POST<span class=\"pl-pds\">&quot;</span></span>,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-form-htm-LC17\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">                url<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>/personjson<span class=\"pl-pds\">&quot;</span></span>,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-form-htm-LC18\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">                data<span class=\"pl-k\">:</span> <span class=\"pl-c1\">JSON</span>.<span class=\"pl-c1\">stringify</span>({ firstname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Reese<span class=\"pl-pds\">&#39;</span></span>, lastname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Donut<span class=\"pl-pds\">&#39;</span></span> }),</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-form-htm-LC19\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">                dataType<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>json<span class=\"pl-pds\">&#39;</span></span>,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-form-htm-LC20\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">                contentType<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>application/json<span class=\"pl-pds\">&#39;</span></span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-form-htm-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">            });</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-form-htm-LC22\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s1\">        </span>&lt;/<span class=\"pl-ent\">script</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-form-htm-LC23\" class=\"blob-code blob-code-inner js-file-line\">    &lt;/<span class=\"pl-ent\">body</span>&gt;</td>\n      </tr>\n      <tr>\n        <td id=\"file-form-htm-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-form-htm-LC24\" class=\"blob-code blob-code-inner js-file-line\">&lt;/<span class=\"pl-ent\">html</span>&gt;</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/6693c1f12d98d8258b18103acd36151f/raw/56baeccfe9748734ea0257f8e276f4bfffd5827b/form.htm\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/6693c1f12d98d8258b18103acd36151f#file-form-htm\">form.htm</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>In this example, GET requests to the /form route will serve a static HTML file.</p>\n<h3>Structuring the App</h3>\n<p>The next example, we look at a different way of structuring our app to separate routes and make them easier to deal with. Here, we have a folder called <em>controllers</em> in the same directory as app.js and form.htm, and controllers contains apiController.js and htmlController.js. The static file form.htm stays the same and everything that has changed from the previous example is indicated by comments.</p>\n<p><div id=\"gist75545577\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-app-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-app-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-app-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> express <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>express<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-app-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-app-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> app <span class=\"pl-k\">=</span> <span class=\"pl-en\">express</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-app-js-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-app-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Import the functions returned by apiController and htmlController</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-app-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> to add endpoints/routes to app.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-app-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> apiController <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>./controllers/apiController<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-app-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> htmlController <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>./controllers/htmlController<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-app-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-app-js-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> port <span class=\"pl-k\">=</span> <span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">env</span>.<span class=\"pl-c1\">PORT</span> <span class=\"pl-k\">||</span> <span class=\"pl-c1\">3000</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-app-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-app-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Middleware</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-app-js-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-app-js-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/assets<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-smi\">express</span>.<span class=\"pl-en\">static</span>(<span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/public<span class=\"pl-pds\">&#39;</span></span>));</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-app-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-app-js-LC16\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">next</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-app-js-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Request Url: <span class=\"pl-pds\">&#39;</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">url</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-app-js-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">next</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-app-js-LC19\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-app-js-LC20\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-app-js-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Routes</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-app-js-LC22\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-app-js-LC23\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Can pass app around since it is an object (mutable/passed by ref).</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-app-js-LC24\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Pass our app to the function returned by </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-app-js-LC25\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> apiController, which adds /api endpoints to app.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-app-js-LC26\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-en\">apiController</span>(app);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-app-js-LC27\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Same with html controller.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-app-js-LC28\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-en\">htmlController</span>(app);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-app-js-LC29\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-app-js-LC30\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">listen</span>(port);</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/ff9d6d2f2d6d32d00e1fcd4832e58cc7/raw/b66774d45ee04e55972c09d456f5c84cd3f3b4c6/app.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/ff9d6d2f2d6d32d00e1fcd4832e58cc7#file-app-js\">app.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><div id=\"gist75545805\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-apicontroller-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-apicontroller-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-apicontroller-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c1\">module</span>.<span class=\"pl-en\">exports</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">app</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-apicontroller-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> This contains all of the endpoints that return views/html.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-apicontroller-js-LC3\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> The function takes an app object and adds the endpoints</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-apicontroller-js-LC4\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> to the app.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-apicontroller-js-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-apicontroller-js-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-apicontroller-js-LC7\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;link href=assets/style.css type=text/css rel=stylesheet /&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-apicontroller-js-LC8\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-apicontroller-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-apicontroller-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-apicontroller-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-en\">sendFile</span>(<span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form.htm<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-apicontroller-js-LC12\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-apicontroller-js-LC13\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-apicontroller-js-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person/:id<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-apicontroller-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts for Person <span class=\"pl-pds\">&#39;</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">params</span>.<span class=\"pl-c1\">id</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-apicontroller-js-LC16\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-apicontroller-js-LC17\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-apicontroller-js-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person<span class=\"pl-pds\">&#39;</span></span>, urlencodedParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-apicontroller-js-LC19\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thank you!<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-apicontroller-js-LC20\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-apicontroller-js-LC21\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-apicontroller-js-LC22\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-apicontroller-js-LC23\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-apicontroller-js-LC24\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/personjson<span class=\"pl-pds\">&#39;</span></span>, jsonParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-apicontroller-js-LC25\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thankyou for the json data<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-apicontroller-js-LC26\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-apicontroller-js-LC27\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-apicontroller-js-LC28\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-apicontroller-js-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-apicontroller-js-LC29\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/4051e9179b7117b825c516269dbd7093/raw/9760d8660d86f18ca0a8e2b88b405ce861cf2ad8/apiController.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/4051e9179b7117b825c516269dbd7093#file-apicontroller-js\">apiController.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><div id=\"gist75545708\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-htmlcontroller-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-htmlcontroller-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-htmlcontroller-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> bodyParser <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>body-parser<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-htmlcontroller-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-htmlcontroller-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> urlencodedParser <span class=\"pl-k\">=</span> <span class=\"pl-smi\">bodyParser</span>.<span class=\"pl-en\">urlencoded</span>({ extended<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-htmlcontroller-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> jsonParser <span class=\"pl-k\">=</span> <span class=\"pl-smi\">bodyParser</span>.<span class=\"pl-en\">json</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-htmlcontroller-js-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-htmlcontroller-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c1\">module</span>.<span class=\"pl-en\">exports</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">app</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-htmlcontroller-js-LC7\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> This contains all of the endpoints that return views/html.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-htmlcontroller-js-LC8\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> The function takes an app object and adds the endpoints</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-htmlcontroller-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\"><span class=\"pl-c\">//</span> to the app.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-htmlcontroller-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-htmlcontroller-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-htmlcontroller-js-LC12\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;link href=assets/style.css type=text/css rel=stylesheet /&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-htmlcontroller-js-LC13\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-htmlcontroller-js-LC14\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-htmlcontroller-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-htmlcontroller-js-LC16\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-en\">sendFile</span>(<span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/form.htm<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-htmlcontroller-js-LC17\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-htmlcontroller-js-LC18\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-htmlcontroller-js-LC19\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person/:id<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-htmlcontroller-js-LC20\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Donuts for Person <span class=\"pl-pds\">&#39;</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">params</span>.<span class=\"pl-c1\">id</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-htmlcontroller-js-LC21\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-htmlcontroller-js-LC22\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-htmlcontroller-js-LC23\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/person<span class=\"pl-pds\">&#39;</span></span>, urlencodedParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-htmlcontroller-js-LC24\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thank you!<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-htmlcontroller-js-LC25\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-htmlcontroller-js-LC26\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-htmlcontroller-js-LC27\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-htmlcontroller-js-LC28\" class=\"blob-code blob-code-inner js-file-line\">    </td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-htmlcontroller-js-LC29\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">app</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/personjson<span class=\"pl-pds\">&#39;</span></span>, jsonParser, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>){</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-htmlcontroller-js-LC30\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Thankyou for the json data<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L31\" class=\"blob-num js-line-number\" data-line-number=\"31\"></td>\n        <td id=\"file-htmlcontroller-js-LC31\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">firstname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L32\" class=\"blob-num js-line-number\" data-line-number=\"32\"></td>\n        <td id=\"file-htmlcontroller-js-LC32\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-c1\">body</span>.<span class=\"pl-smi\">lastname</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L33\" class=\"blob-num js-line-number\" data-line-number=\"33\"></td>\n        <td id=\"file-htmlcontroller-js-LC33\" class=\"blob-code blob-code-inner js-file-line\">    });</td>\n      </tr>\n      <tr>\n        <td id=\"file-htmlcontroller-js-L34\" class=\"blob-num js-line-number\" data-line-number=\"34\"></td>\n        <td id=\"file-htmlcontroller-js-LC34\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/43b44d0735d0d05686cc9dd3638cd18f/raw/52c78608d217b7746fc8a2502fc62dcf2339f8a4/htmlController.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/43b44d0735d0d05686cc9dd3638cd18f#file-htmlcontroller-js\">htmlController.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3>Using the Express Router</h3>\n<p>The next example deals with another way of structuring our app and uses the Router middleware provided by Express. Here, we have a folder called <em>routes</em> in the same directory as app.js, and routes contains index.js and users.js. Both of the routes files return an Express Router object, and then the main app.js file passes those Router objects to its own middleware. This effectively sets up routes with subroutes, where the routes defined in app.js are the main routes and the routes defined in the routes files are the subroutes that can be accessed via the main routes.</p>\n<p><div id=\"gist75546317\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-app-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-app-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-app-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> express <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>express<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-app-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-app-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> routes <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>./routes/index<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-app-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> users <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>./routes/users<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-app-js-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-app-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> app <span class=\"pl-k\">=</span> <span class=\"pl-en\">express</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-app-js-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-app-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> port <span class=\"pl-k\">=</span> <span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">env</span>.<span class=\"pl-c1\">PORT</span> <span class=\"pl-k\">||</span> <span class=\"pl-c1\">3000</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-app-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-app-js-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> path matching / will be handled by routes/index.js.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-app-js-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> index.js is set up with a &#39;/something&#39; subroute which can </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-app-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> be accessed now with /something ,</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-app-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> as well as a &#39;/&#39; subroute which can be accessed with &#39;/&#39;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-app-js-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, routes);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-app-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-app-js-LC16\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> path matching /users/ will be handled by routes/users.js.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-app-js-LC17\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Set a path &#39;/users&#39; and then within that path, the routes are processed.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-app-js-LC18\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Basically, it takes path matching &#39;/user/(whatever the matching routes are in users.js router)&#39;.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-app-js-LC19\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Paths defined in users.js router are the users/ subroutes.</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-app-js-LC20\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> In this example, users is only set up with &#39;/&#39; path so </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-app-js-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> it will respond to paths matching &#39;/users/&#39;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-app-js-LC22\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">use</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/users<span class=\"pl-pds\">&#39;</span></span>, users);</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-app-js-LC23\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-app-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-app-js-LC24\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">app</span>.<span class=\"pl-en\">listen</span>(port);</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/fda851a0b2d031248ac588ee7553c268/raw/e3dbd875093bd771e49fb8a4e819ebba02354928/app.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/fda851a0b2d031248ac588ee7553c268#file-app-js\">app.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><div id=\"gist75546443\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-index-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-index-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-index-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> express <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>express<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-index-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-index-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Router middleware;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-index-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> put GETs/POSTs/etc on Router</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-index-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> router <span class=\"pl-k\">=</span> <span class=\"pl-smi\">express</span>.<span class=\"pl-en\">Router</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-index-js-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-index-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> GET /index/ </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-index-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">next</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-index-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Root<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-index-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-index-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-index-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> GET /index/something </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-index-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/something<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">next</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-index-js-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>respond with something<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-index-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-index-js-LC16\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-index-js-LC17\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c1\">module</span>.<span class=\"pl-smi\">exports</span> <span class=\"pl-k\">=</span> router;</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/3beda9f4ccf51749e97f57dc4b7884f2/raw/89e241784c5d0d179feebef44246ed905f5e51e7/index.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/3beda9f4ccf51749e97f57dc4b7884f2#file-index-js\">index.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><div id=\"gist75546384\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-users-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-users-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-users-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> express <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>express<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-users-js-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-users-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> Router middleware;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-users-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> put GETs/POSTs/etc on Router</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-users-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> router <span class=\"pl-k\">=</span> <span class=\"pl-smi\">express</span>.<span class=\"pl-en\">Router</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-users-js-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-users-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">//</span> GET /users/ </span></td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-users-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>/<span class=\"pl-pds\">&#39;</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">req</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">next</span>) {</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-users-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">res</span>.<span class=\"pl-c1\">send</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>respond with a resource<span class=\"pl-pds\">&#39;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-users-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">});</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-users-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-users-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-users-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c1\">module</span>.<span class=\"pl-smi\">exports</span> <span class=\"pl-k\">=</span> router;</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/natmegs/18e63953049cdbdfc0e346e5f390775d/raw/90316e4adb118c7928f3fe357c27eab142563bcc/users.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/natmegs/18e63953049cdbdfc0e346e5f390775d#file-users-js\">users.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>These are all definitely just demonstrative examples that don’t do anything terribly exciting, but they helped me to understand how Express works with Node!</p>","frontmatter":{"title":"Node and Express","date":"August 29, 2017","description":"Introduction to using Express in Node"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017-08-29-node-and-express/","previous":{"fields":{"slug":"/2017-08-20-node-servers/"},"frontmatter":{"title":"Node Servers"}},"next":{"fields":{"slug":"/2017-12-20-dynamic-components-angular/"},"frontmatter":{"title":"Dynamic Components in Angular"}}}}}